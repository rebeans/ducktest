<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인천공항 운항스케줄 임시 웹페이지</title>
    <script>
      // ✅ 스크롤 위치 저장
      function saveScrollPosition() {
        localStorage.setItem('scrollY', window.scrollY);
      }
    
      // ✅ 페이지가 열릴 때 실행
      window.addEventListener('DOMContentLoaded', () => {
        const lastLink = localStorage.getItem('lastVisitedLink');
        const savedScroll = localStorage.getItem('scrollY');
    
        // ✅ 1. 마지막 링크로 자동 이동 (이미 그 페이지가 아니라면)
        if (lastLink && lastLink !== window.location.href) {
          history.pushState({ redirected: true }, '', window.location.href);
          window.location.assign(lastLink);
        }
    
        // ✅ 2. 스크롤 위치 복원
        if (savedScroll !== null) {
          window.scrollTo(0, parseInt(savedScroll, 10));
        }
      });
    
      // ✅ 링크 클릭 시 마지막 방문 링크와 스크롤 위치 저장
      function saveLastLink(url) {
        localStorage.setItem('lastVisitedLink', url);
        saveScrollPosition();
      }
    
      // ✅ 스크롤이 변경될 때마다 현재 위치 저장
      window.addEventListener('scroll', () => {
        saveScrollPosition();
      });
    
      // ✅ 페이지 떠날 때도 스크롤 위치 저장
      window.addEventListener('beforeunload', () => {
        saveScrollPosition();
      });
    
      // ✅ popstate로 뒤로가기 시 자동 리다이렉트 반복 방지
      window.addEventListener('popstate', (event) => {
        if (event.state && event.state.redirected) {
          localStorage.removeItem('lastVisitedLink');
          localStorage.removeItem('scrollY');
        }
      });
    </script>
</head>
<body>
    <header>
        <h2>공공데이터 복구로 기존 웹페이지에서 정보 제공. 데이터장애 발생시 본 임시페이지 재운영</h2>
        <br>
        <h3>
            <a href="https://rebeans.github.io/duck1" onclick="saveLastLink(this.href)">
                https://rebeans.github.io/duck1<br>제1여객터미널
            </a>
        </h3>
        <br>
        <h3>
            <a href="https://rebeans.github.io/duck2" onclick="saveLastLink(this.href)">
                https://rebeans.github.io/duck2<br>탑승동
            </a>
        </h3>
        <br>
        <h3>
            <a href="https://rebeans.github.io/duck" onclick="saveLastLink(this.href)">
                https://rebeans.github.io/duck<br>제2여객터미널
            </a>
        </h3>
    </header>
</body>
</html>

<!--
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인천공항 운항스케줄 임시 웹페이지</title>
</head>
<body>
    <header>
        <h2>공공데이터 복구로 기존 웹페이지에서 정보 제공. 데이터장애 발생시 본 임시페이지 재운영</h2>
        <br>
        <h3><a href="https://rebeans.github.io/duck1">https://rebeans.github.io/duck1<br>제1여객터미널</a></h2>
        <br>
        <h3><a href="https://rebeans.github.io/duck2">https://rebeans.github.io/duck2<br>탑승동</a></h2>
        <br>
        <h3><a href="https://rebeans.github.io/duck">https://rebeans.github.io/duck<br>제2여객터미널</a></h2>
    </header>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인천공항 운항스케줄 임시 웹페이지</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="flight-scroll-container">
        <div id="flight-info">
            <span class="info">임시(길게눌러레이더연결,기종표출 데이터 복구시 폐쇄)</span>
        </div>
    </div>    

    <button id="refresh-button" class="loading"><div class="refresh-icon"></div></button>

    <script src="et2_sorted_group.js" defer></script>
</body>
</html>
-->


